<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Hoja de Vida</title>

<style>
  @page {
    size: A4;
    margin: 1.5cm;
  }

  body {
    font-family: Helvetica, Arial, sans-serif;
    font-size: 11px;
    color: #111827;
    line-height: 1.5;
  }

  h1, h2, h3 {
    margin: 0;
  }

  /* ===== LAYOUT ===== */
  .page {
    display: grid;
    grid-template-columns: 32% 68%;
    min-height: 100vh;
  }

  /* ===== SIDEBAR ===== */
  .sidebar {
    background: #1f2a33;
    color: #ffffff;
    padding: 25px 20px;
  }

  .photo {
    text-align: center;
    margin-bottom: 18px;
  }

  .photo img {
    width: 110px;
    height: 110px;
    object-fit: cover;
    border-radius: 50%;
    border: 3px solid #ffffff;
  }

  .name {
    font-size: 18px;
    font-weight: bold;
    text-align: center;
  }

  .subtitle {
    font-size: 11px;
    text-align: center;
    opacity: 0.85;
    margin-bottom: 18px;
  }

  .side-block {
    margin-bottom: 18px;
  }

  .side-title {
    font-size: 10px;
    text-transform: uppercase;
    opacity: 0.7;
    margin-bottom: 6px;
  }

  .side-value {
    font-size: 11px;
    margin-bottom: 4px;
  }

  /* ===== CONTENT ===== */
  .content {
    padding: 25px 30px;
  }

  .section {
    margin-bottom: 22px;
  }

  .section-title {
    font-size: 13px;
    font-weight: bold;
    text-transform: uppercase;
    border-bottom: 2px solid #2563eb;
    padding-bottom: 4px;
    margin-bottom: 10px;
    color: #1f2937;
  }

  .item {
    margin-bottom: 12px;
  }

  .item-title {
    font-size: 11.5px;
    font-weight: bold;
  }

  .item-sub {
    font-size: 10.5px;
    color: #4b5563;
  }

  .item-desc {
    font-size: 10.5px;
    margin-top: 2px;
  }

  .cert {
    font-size: 10px;
    color: #374151;
    margin-top: 3px;
  }
</style>
</head>

<body>

<div class="page">

  <!-- ===== SIDEBAR ===== -->
  <aside class="sidebar">

    {% if perfil.foto_perfil %}
    <div class="photo">
      <img src="{{ perfil.foto_perfil.url }}" alt="Foto de perfil">
    </div>
    {% endif %}

    <div class="name">{{ perfil.nombres }} {{ perfil.apellidos }}</div>

    {% if perfil.descripcionperfil %}
      <div class="subtitle">{{ perfil.descripcionperfil }}</div>
    {% endif %}

    <div class="side-block">
      <div class="side-title">Datos personales</div>
      {% if perfil.numerocedula %}<div class="side-value"><b>Cédula:</b> {{ perfil.numerocedula }}</div>{% endif %}
      {% if perfil.fechanacimiento %}<div class="side-value"><b>Nacimiento:</b> {{ perfil.fechanacimiento }}</div>{% endif %}
      {% if perfil.nacionalidad %}<div class="side-value"><b>Nacionalidad:</b> {{ perfil.nacionalidad }}</div>{% endif %}
      {% if perfil.sexo %}<div class="side-value"><b>Sexo:</b> {{ perfil.sexo }}</div>{% endif %}
      {% if perfil.estadocivil %}<div class="side-value"><b>Estado civil:</b> {{ perfil.estadocivil }}</div>{% endif %}
    </div>

  </aside>

  <!-- ===== CONTENT ===== -->
  <main class="content">

    <!-- EXPERIENCIA -->
    {% if show.exp %}
    <div class="section">
      <div class="section-title">Experiencia Laboral</div>

      {% for x in perfil.experiencias.all %}
      <div class="item">
        <div class="item-title">{{ x.cargodesempenado }} — {{ x.nombrempresa }}</div>
        <div class="item-sub">
          {{ x.fechainicio }} →
          {% if x.fechafin %}{{ x.fechafin }}{% else %}Actualidad{% endif %}
        </div>
        {% if x.responsabilidades %}
          <div class="item-desc">{{ x.responsabilidades }}</div>
        {% endif %}
        {% if x.certificado_pdf or x.certificado_imagen %}
          <div class="cert">Certificado adjunto</div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% endif %}

    <!-- CURSOS -->
    {% if show.cursos %}
    <div class="section">
      <div class="section-title">Cursos y Formación</div>

      {% for x in perfil.cursos.all %}
      <div class="item">
        <div class="item-title">{{ x.nombrecurso }}</div>
        <div class="item-sub">
          {{ x.fechainicio }} → {{ x.fechafin }}
          {% if x.entidadpatrocinadora %} | {{ x.entidadpatrocinadora }}{% endif %}
        </div>
        {% if x.descripcioncurso %}
          <div class="item-desc">{{ x.descripcioncurso }}</div>
        {% endif %}
        {% if x.certificado_pdf or x.certificado_imagen %}
          <div class="cert">Certificado adjunto</div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% endif %}

    <!-- RECONOCIMIENTOS -->
    {% if show.reconoc %}
    <div class="section">
      <div class="section-title">Reconocimientos</div>

      {% for x in perfil.reconocimientos.all %}
      <div class="item">
        <div class="item-title">{{ x.tiporeconocimiento }}</div>
        <div class="item-sub">{{ x.entidadpatrocinadora }}</div>
        {% if x.descripcionreconocimiento %}
          <div class="item-desc">{{ x.descripcionreconocimiento }}</div>
        {% endif %}
        {% if x.certificado_pdf or x.certificado_imagen %}
          <div class="cert">Documento adjunto</div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% endif %}

    <!-- PRODUCTOS ACADÉMICOS -->
    {% if show.prod_acad %}
    <div class="section">
      <div class="section-title">Productos Académicos</div>

      {% for x in perfil.productos_academicos.all %}
      <div class="item">
        <div class="item-title">{{ x.nombreproducto }}</div>
        {% if x.descripcion %}
          <div class="item-desc">{{ x.descripcion }}</div>
        {% endif %}
        {% if x.certificado_pdf or x.certificado_imagen %}
          <div class="cert">Documento adjunto</div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% endif %}

  </main>

</div>

</body>
</html>
